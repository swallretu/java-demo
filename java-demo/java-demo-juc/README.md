# java-demo-juc

## 什么是CAS

CAS（compare and swap）比较并替换。 CAS有三个参数：需要读写的内存位值（V）、进行比较的预期原值（A）和拟写入的新值(B)。当且仅当V的值等于A时，CAS才会通过原子方式用新值B来更新V的值，否则不会执行任何操作

简单来说就是，线程1想要把T的值从A修改为B的时候进行判断和比较，线程1认为T的值应该是A，如果是就修改程B，如果不是就不修改。

## CAS的ABA问题

如果有两个线程A，B，如果线程A从内存中读取变量的值为X；线程B对他的值进行修改，先将值变为Y然后有改回X，那么线程A操作的时候就会认为变量没被修改过，就会继续处理。
这个场景下肯定是不合理的，并不是一定会有问题，要结合场景来具体分析。针对这个问题可以使用AtomicStampedReference来处理


